create table if not exists address(id bigint unsigned auto_increment,building_no smallint not null,area varchar(40) not null,city varchar(25) not null,state varchar(20) not null,pincode mediumint not null,constraint pk_address_id primary key(id));
create table if not exists customer(cust_id int unsigned auto_increment,cust_fname varchar(35) not null,cust_lname varchar(35) not null,pass_word varchar(40) not null,address_id bigint unsigned not null,phone_no bigint not null unique,cust_dob varchar(20) not null,constraint pk_cust_id primary key(cust_id),constraint fk_customer_address_id foreign key(address_id) references address(id));
create table if not exists employee(emp_id int unsigned auto_increment,emp_name varchar(35) not null,emp_type ENUM('Manager','Accountant','Cashier') not null,phone_no bigint not null unique,dob varchar(20) not null,salary int unsigned not null,address_id bigint unsigned,constraint pk_emp_id primary key(emp_id),constraint fk_employee_address_id foreign key(address_id) references address(id));
create table if not exists account(cust_id int unsigned not null,acc_no int unsigned not null,branch_name varchar(20) not null,ifsc_code varchar(6) not null,pin smallint not null,acc_type  ENUM('Savings', 'Current','Deposit') not null,account_balance int unsigned not null,constraint pk_acc_no primary key(acc_no),constraint fk_account_cust_id foreign key(cust_id) references customer(cust_id));
create table if not exists savings_account(acc_no int unsigned not null,withdraw_limit mediumint unsigned,constraint pk_savings_acc_no primary key(acc_no),constraint fk_savings_acc_no foreign key(acc_no) references account(acc_no));
create table if not exists current_account(acc_no int unsigned not null,credit_limit int unsigned not null,withdraw_limit int unsigned,constraint pk_current_acc_no primary key(acc_no),constraint fk_current_acc_no foreign key(acc_no) references account(acc_no));
create table if not exists deposit_account(acc_no int unsigned not null,interest double,deposit_date date,term_in_month smallint,constraint pk_deposit_acc_no primary key(acc_no),constraint fk_deposit_acc_no foreign key(acc_no) references account(acc_no));
create table if not exists transaction(sender_acc_no int unsigned,receiver_acc_no int unsigned,transaction_id bigint unsigned auto_increment,transaction_amt int,cust_id int unsigned not null,transaction_time varchar(50),constraint pk_transaction_id primary key(transaction_id),constraint fk_transaction_cust_id foreign key(cust_id) references customer(cust_id),constraint fk_transaction_sender_acc_no foreign key(sender_acc_no) references account(acc_no),constraint fk_transaction_receiver_acc_no foreign key(receiver_acc_no) references account(acc_no));
create table if not exists beneficiary(sender_acc_no int unsigned,receiver_acc_no int unsigned,constraint pk_beneficiary primary key(sender_acc_no,receiver_acc_no),constraint fk_beneficiary_sender_acc_no foreign key(sender_acc_no) references account(acc_no),constraint fk_beneficiary_receiver_acc_no foreign key(receiver_acc_no) references account(acc_no));
